---
layout: default
title: ticker banner
banner_messeges: 
  - repeated text over and over again
  - but then something else
banner_width: 20vw;
---


<div class="tickerBanner">
  {% for messege in page.banner_messeges %}
    <div class="text-block">{{messege}}</div>
    {% endfor %}
</div>



<style>
:root {
    --bannerBlockLength: 280px;
    --bannerBlockTime: 2s;
  }

.tickerBanner{
overflow-X: hidden;
display: flex;
flex-direction: row-reverse;
text-align: center;
}


.tickerBanner div{
  display: inline-block;
  padding: 1vw;
  flex-shrink: 0;
  position: relative;
  animation: ticker 2s infinite linear;
  animation-duration: var(--bannerBlockTime), 2s;
}


@keyframes ticker {
    from {left:0}
    to   {left:var(--bannerBlockLength)}
}
</style>


<script>
  const banner = document.querySelector('.tickerBanner');
  const textBlock = banner.querySelectorAll('.text-block');

  console.log(textBlock[1].offsetWidth)

  let bannerBlock = 0;
  textBlock.forEach( block => {
    bannerBlock += block.offsetWidth
  });

  let bannerLength = bannerBlock
  console.log(bannerBlock)
  console.log(bannerLength)
  
  
  document.documentElement.style.setProperty('--bannerBlockLength', `${bannerBlock}px`);
  document.documentElement.style.setProperty('--bannerBlockTime', `${(bannerBlock / 50)}s`);

  
  function extendBanner() {
    if (bannerLength < (screen.width + bannerBlock) ) {
      textBlock.forEach(block => {
        console.log(block.innerHTML)
        let newDiv = document.createElement('div')
        // add the newly created element and its content into the DOM
        banner.appendChild(newDiv);
        newDiv.innerHTML = block.innerHTML
      });
      bannerLength += bannerBlock;
      console.log(bannerLength)
      extendBanner()
    }
  }



  extendBanner()

  console.log(bannerLength)

</script>