---
layout: default
title: ticker banner
banner_messeges: 
  - repeated text over and over again
  - but then something else
banner_width: 20vw;
---


<div class="tickerBanner">
  {% for messege in page.banner_messeges %}
    <div class="text-block">{{messege}}</div>
    {% endfor %}
</div>



<style>
:root {
    --bannerBlockLength: 280px;
    --bannerBlockTime: 2s;
  }

.tickerBanner{
overflow-X: hidden;
display: flex;
text-align: center;
}

.tickerBanner > * {
padding: 1vw;
}

.tickerBanner div{
    display: inline-block;
    flex-shrink: 0;
    position: relative;
    animation: ticker 2s infinite linear;
    animation-duration: var(--bannerBlockTime), 2s;
}


@keyframes ticker {
    from {right:0}
    to   {right:var(--bannerBlockLength)}
}
</style>


<script>
  const banner = document.querySelector('.tickerBanner');
  const textBlock = banner.querySelectorAll('.text-block');

  console.log(textBlock[1].offsetWidth)

  let bannerBlock = 0;
  textBlock.forEach( block => {
    bannerBlock += block.offsetWidth
  });

  let bannerLength = bannerBlock
  console.log(bannerBlock)
  console.log(bannerLength)
  
  
  document.documentElement.style.setProperty('--bannerBlockLength', `${bannerBlock}px`);
  document.documentElement.style.setProperty('--bannerBlockTime', `${(bannerBlock / 100)}s`);

  
  function extendBanner() {
    if (bannerLength < (screen.width + bannerBlock) ) {
      textBlock.forEach(block => {
        console.log(block.innerHTML)
        // add the newly created element and its content into the DOM
        banner.appendChild(document.createElement('div'));
        banner.querySelector('div:last-child').innerHTML = block.innerHTML
      });
      bannerLength += bannerBlock;
      console.log(bannerLength)
      extendBanner()
    }
  }



  extendBanner()

  console.log(bannerLength)

</script>