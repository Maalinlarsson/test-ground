---
layout: default
title: age checking
teaching_notes: true
---


<div class="agePopup hidden">
  <input type="number" name="age" id="age">
  <button id="ageButton">submit</button>
  <span class="errorText"></span>
</div>


<script>
  // 1) lets start buy define all our constants 
  // all our const to make things easier in the rest of the code
  const body = document.querySelector('body');
  const agePopup = document.querySelector('.agePopup');
  const ageInput = agePopup.querySelector('#age');
  const ageButton = agePopup.querySelector('#ageButton');
  const errorText = agePopup.querySelector('.errorText')


  if (document.cookie.includes('ageAppropriate=active')) {
    agePopup.classList.remove('hidden');
  }
  
  
  // 3) Then we add the function 
  
  function checkAge() {
    // 4) first up lets test that both the eventListiner and  that we can pull the value from our input
    console.log(ageInput.value);
    // 5) next we need to check the age with an if statement.
    if(ageInput.value >= 18) {
      // 6) if it was older 
      document.cookie = 'ageAppropriate=active';
      agePopup.classList.add('hidden');
    } else {
      errorText.textContent = `sorry you are ${18 - ageInput.value} years to young to smoke`
    }
  };


  // 2) lets add an eventlistiner so that we can trigger the 
  ageButton.addEventListener('click', checkAge);

  // this is just for troubleshooting the code
  // document.cookie = 'ageAppropriate=false'
</script>