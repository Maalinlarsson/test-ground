---
layout: default
title: advanced dark mode with cookies
img_Path: https://picsum.photos/id/1025/600/400
---



<div id="dark-btn"><span></span></div>


<style>
    
.darkMode{
  background:#000;
}

#dark-btn{
  background-color:#222;
  height:calc(2rem + 4px);
  width:6rem;
  position:relative;
  border:1px solid black;
  border-radius:1rem;
}

#dark-btn span{
  position:absolute;
  background-color:#fff;
  border:1px solid black;
  border-radius:1rem;
  height:2rem;
  width:2rem;
  right:calc(4rem - 2px);
  left:1px;
  top:1px;
  bottom:1px;
  transition:1s;
}

.darkMode #dark-btn{
  background-color:#fff;
}

.darkMode #dark-btn span{
left:calc(4rem - 2px);
  right:1px;
}

</style>


<script>
    
// constants for targetting later on 
        const body = document.querySelector('body');
        const darkmodeButton = document.querySelector('#dark-btn');

        // this is checking what state the cookie is in on page load 
        if (document.cookie.includes('dark-mode=active')) {
          // if the cookie says darkmode active then add the class of darkMode to the body 
            body.classList.add('darkMode');
        }

        // new function for flipping between light and dark mode
        function toggleDarkMode() {
            // this is just for debuging the code  
            // console.log('clicked on ' + document.cookie)
          
            // this adds or removes darkmode from the bodies class list 
            body.classList.toggle('darkMode');
            // this is checking the classlist again
            if (body.classList.contains('darkMode')) {
              // if its set to darkmode then make a cookie saying its active
                document.cookie = "dark-mode=active";
            }
            else {
              // if its not then it is setting it to deactive
                document.cookie = "dark-mode=deactive";
            };
            // more trouble shooting code
            console.log('clicked on ' + document.cookie)
        };

        // this is tying the darkmode button to the toggleDarkMode function
        darkmodeButton.addEventListener('click', toggleDarkMode);



</script>

